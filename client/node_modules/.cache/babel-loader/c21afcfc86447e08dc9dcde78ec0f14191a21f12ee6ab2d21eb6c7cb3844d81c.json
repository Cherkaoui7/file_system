{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\chatgpt_gemini_project\\\\gemini_version\\\\advanced-file-system\\\\client\\\\src\\\\components\\\\BatchUpload.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport axios from 'axios';\nimport { FaCloudUploadAlt, FaCheckCircle, FaExclamationCircle } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BatchUpload = ({\n  userToken,\n  onUploadSuccess\n}) => {\n  _s();\n  const [selectedFiles, setSelectedFiles] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [message, setMessage] = useState(null); // { type: 'success'|'error', text: '' }\n\n  const fileInputRef = useRef();\n  const handleFileSelect = e => {\n    setSelectedFiles(e.target.files);\n    setMessage(null); // Clear previous messages\n  };\n  const handleUpload = async () => {\n    if (!selectedFiles || selectedFiles.length === 0) return;\n    const formData = new FormData();\n    for (let i = 0; i < selectedFiles.length; i++) {\n      formData.append('files', selectedFiles[i]);\n    }\n    try {\n      setUploading(true);\n      setMessage(null);\n      await axios.post('http://localhost:5000/api/files', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          Authorization: `Bearer ${userToken}`\n        }\n      });\n\n      // Success Handling\n      setMessage({\n        type: 'success',\n        text: 'Upload successful!'\n      });\n      setSelectedFiles(null);\n\n      // Reset the file input visually\n      if (fileInputRef.current) fileInputRef.current.value = '';\n\n      // Tell Dashboard to refresh the list\n      if (onUploadSuccess) onUploadSuccess();\n    } catch (error) {\n      console.error(error);\n      setMessage({\n        type: 'error',\n        text: 'Upload Failed. Please try again.'\n      });\n    } finally {\n      setUploading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-slate-800 p-8 rounded-xl border border-slate-700 shadow-xl max-w-2xl mx-auto text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(FaCloudUploadAlt, {\n        className: \"text-cyan-400 text-5xl mb-4 animate-bounce\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-white\",\n        children: \"Upload Files\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-slate-400 text-sm mt-1\",\n        children: \"Supported formats: Images, Videos, Documents\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative group\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        multiple: true,\n        onChange: handleFileSelect,\n        ref: fileInputRef,\n        className: \"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-slate-900 border-2 border-dashed border-slate-600 group-hover:border-cyan-500 rounded-lg p-4 flex items-center justify-between transition-colors\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-slate-400 group-hover:text-cyan-400 transition-colors\",\n          children: selectedFiles ? `${selectedFiles.length} files selected` : \"Choose files or drag & drop here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"bg-cyan-600 text-white text-xs font-bold px-3 py-1 rounded uppercase\",\n          children: \"Browse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpload,\n      disabled: !selectedFiles || uploading,\n      className: `w-full mt-6 py-3 rounded-lg font-bold text-white transition-all shadow-lg ${!selectedFiles || uploading ? 'bg-slate-700 text-slate-500 cursor-not-allowed' : 'bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 shadow-cyan-500/30'}`,\n      children: uploading ? 'Uploading...' : 'INITIATE UPLOAD'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `mt-4 p-3 rounded-lg flex items-center justify-center gap-2 text-sm font-semibold ${message.type === 'success' ? 'bg-green-500/20 text-green-400' : 'bg-red-500/20 text-red-400'}`,\n      children: [message.type === 'success' ? /*#__PURE__*/_jsxDEV(FaCheckCircle, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 51\n      }, this) : /*#__PURE__*/_jsxDEV(FaExclamationCircle, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 71\n      }, this), message.text]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_s(BatchUpload, \"/roVL+CdfxUs/10P35jXnzzxyTs=\");\n_c = BatchUpload;\nexport default BatchUpload;\nvar _c;\n$RefreshReg$(_c, \"BatchUpload\");","map":{"version":3,"names":["React","useState","useRef","axios","FaCloudUploadAlt","FaCheckCircle","FaExclamationCircle","jsxDEV","_jsxDEV","BatchUpload","userToken","onUploadSuccess","_s","selectedFiles","setSelectedFiles","uploading","setUploading","message","setMessage","fileInputRef","handleFileSelect","e","target","files","handleUpload","length","formData","FormData","i","append","post","headers","Authorization","type","text","current","value","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","multiple","onChange","ref","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/USER/Documents/chatgpt_gemini_project/gemini_version/advanced-file-system/client/src/components/BatchUpload.jsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { FaCloudUploadAlt, FaCheckCircle, FaExclamationCircle } from 'react-icons/fa';\r\n\r\nconst BatchUpload = ({ userToken, onUploadSuccess }) => {\r\n    const [selectedFiles, setSelectedFiles] = useState(null);\r\n    const [uploading, setUploading] = useState(false);\r\n    const [message, setMessage] = useState(null); // { type: 'success'|'error', text: '' }\r\n\r\n    const fileInputRef = useRef();\r\n\r\n    const handleFileSelect = (e) => {\r\n        setSelectedFiles(e.target.files);\r\n        setMessage(null); // Clear previous messages\r\n    };\r\n\r\n    const handleUpload = async () => {\r\n        if (!selectedFiles || selectedFiles.length === 0) return;\r\n\r\n        const formData = new FormData();\r\n        for (let i = 0; i < selectedFiles.length; i++) {\r\n            formData.append('files', selectedFiles[i]);\r\n        }\r\n\r\n        try {\r\n            setUploading(true);\r\n            setMessage(null);\r\n\r\n            await axios.post('http://localhost:5000/api/files', formData, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                    Authorization: `Bearer ${userToken}`\r\n                }\r\n            });\r\n\r\n            // Success Handling\r\n            setMessage({ type: 'success', text: 'Upload successful!' });\r\n            setSelectedFiles(null);\r\n\r\n            // Reset the file input visually\r\n            if (fileInputRef.current) fileInputRef.current.value = '';\r\n\r\n            // Tell Dashboard to refresh the list\r\n            if (onUploadSuccess) onUploadSuccess();\r\n\r\n        } catch (error) {\r\n            console.error(error);\r\n            setMessage({ type: 'error', text: 'Upload Failed. Please try again.' });\r\n        } finally {\r\n            setUploading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-slate-800 p-8 rounded-xl border border-slate-700 shadow-xl max-w-2xl mx-auto text-center\">\r\n\r\n            <div className=\"flex flex-col items-center mb-6\">\r\n                <FaCloudUploadAlt className=\"text-cyan-400 text-5xl mb-4 animate-bounce\" />\r\n                <h2 className=\"text-2xl font-bold text-white\">Upload Files</h2>\r\n                <p className=\"text-slate-400 text-sm mt-1\">Supported formats: Images, Videos, Documents</p>\r\n            </div>\r\n\r\n            {/* Custom File Input */}\r\n            <div className=\"relative group\">\r\n                <input\r\n                    type=\"file\"\r\n                    multiple\r\n                    onChange={handleFileSelect}\r\n                    ref={fileInputRef}\r\n                    className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10\"\r\n                />\r\n                <div className=\"bg-slate-900 border-2 border-dashed border-slate-600 group-hover:border-cyan-500 rounded-lg p-4 flex items-center justify-between transition-colors\">\r\n                    <span className=\"text-slate-400 group-hover:text-cyan-400 transition-colors\">\r\n                        {selectedFiles ? `${selectedFiles.length} files selected` : \"Choose files or drag & drop here\"}\r\n                    </span>\r\n                    <span className=\"bg-cyan-600 text-white text-xs font-bold px-3 py-1 rounded uppercase\">\r\n                        Browse\r\n                    </span>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Upload Button */}\r\n            <button\r\n                onClick={handleUpload}\r\n                disabled={!selectedFiles || uploading}\r\n                className={`w-full mt-6 py-3 rounded-lg font-bold text-white transition-all shadow-lg ${!selectedFiles || uploading\r\n                        ? 'bg-slate-700 text-slate-500 cursor-not-allowed'\r\n                        : 'bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 shadow-cyan-500/30'\r\n                    }`}\r\n            >\r\n                {uploading ? 'Uploading...' : 'INITIATE UPLOAD'}\r\n            </button>\r\n\r\n            {/* Status Message */}\r\n            {message && (\r\n                <div className={`mt-4 p-3 rounded-lg flex items-center justify-center gap-2 text-sm font-semibold ${message.type === 'success' ? 'bg-green-500/20 text-green-400' : 'bg-red-500/20 text-red-400'\r\n                    }`}>\r\n                    {message.type === 'success' ? <FaCheckCircle /> : <FaExclamationCircle />}\r\n                    {message.text}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BatchUpload;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC/C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,gBAAgB,EAAEC,aAAa,EAAEC,mBAAmB,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtF,MAAMC,WAAW,GAAGA,CAAC;EAAEC,SAAS;EAAEC;AAAgB,CAAC,KAAK;EAAAC,EAAA;EACpD,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACc,SAAS,EAAEC,YAAY,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACgB,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;;EAE9C,MAAMkB,YAAY,GAAGjB,MAAM,CAAC,CAAC;EAE7B,MAAMkB,gBAAgB,GAAIC,CAAC,IAAK;IAC5BP,gBAAgB,CAACO,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;IAChCL,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;EACtB,CAAC;EAED,MAAMM,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAACX,aAAa,IAAIA,aAAa,CAACY,MAAM,KAAK,CAAC,EAAE;IAElD,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGf,aAAa,CAACY,MAAM,EAAEG,CAAC,EAAE,EAAE;MAC3CF,QAAQ,CAACG,MAAM,CAAC,OAAO,EAAEhB,aAAa,CAACe,CAAC,CAAC,CAAC;IAC9C;IAEA,IAAI;MACAZ,YAAY,CAAC,IAAI,CAAC;MAClBE,UAAU,CAAC,IAAI,CAAC;MAEhB,MAAMf,KAAK,CAAC2B,IAAI,CAAC,iCAAiC,EAAEJ,QAAQ,EAAE;QAC1DK,OAAO,EAAE;UACL,cAAc,EAAE,qBAAqB;UACrCC,aAAa,EAAE,UAAUtB,SAAS;QACtC;MACJ,CAAC,CAAC;;MAEF;MACAQ,UAAU,CAAC;QAAEe,IAAI,EAAE,SAAS;QAAEC,IAAI,EAAE;MAAqB,CAAC,CAAC;MAC3DpB,gBAAgB,CAAC,IAAI,CAAC;;MAEtB;MACA,IAAIK,YAAY,CAACgB,OAAO,EAAEhB,YAAY,CAACgB,OAAO,CAACC,KAAK,GAAG,EAAE;;MAEzD;MACA,IAAIzB,eAAe,EAAEA,eAAe,CAAC,CAAC;IAE1C,CAAC,CAAC,OAAO0B,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACpBnB,UAAU,CAAC;QAAEe,IAAI,EAAE,OAAO;QAAEC,IAAI,EAAE;MAAmC,CAAC,CAAC;IAC3E,CAAC,SAAS;MACNlB,YAAY,CAAC,KAAK,CAAC;IACvB;EACJ,CAAC;EAED,oBACIR,OAAA;IAAK+B,SAAS,EAAC,6FAA6F;IAAAC,QAAA,gBAExGhC,OAAA;MAAK+B,SAAS,EAAC,iCAAiC;MAAAC,QAAA,gBAC5ChC,OAAA,CAACJ,gBAAgB;QAACmC,SAAS,EAAC;MAA4C;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC3EpC,OAAA;QAAI+B,SAAS,EAAC,+BAA+B;QAAAC,QAAA,EAAC;MAAY;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC/DpC,OAAA;QAAG+B,SAAS,EAAC,6BAA6B;QAAAC,QAAA,EAAC;MAA4C;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1F,CAAC,eAGNpC,OAAA;MAAK+B,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC3BhC,OAAA;QACIyB,IAAI,EAAC,MAAM;QACXY,QAAQ;QACRC,QAAQ,EAAE1B,gBAAiB;QAC3B2B,GAAG,EAAE5B,YAAa;QAClBoB,SAAS,EAAC;MAA8D;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3E,CAAC,eACFpC,OAAA;QAAK+B,SAAS,EAAC,qJAAqJ;QAAAC,QAAA,gBAChKhC,OAAA;UAAM+B,SAAS,EAAC,4DAA4D;UAAAC,QAAA,EACvE3B,aAAa,GAAG,GAAGA,aAAa,CAACY,MAAM,iBAAiB,GAAG;QAAkC;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5F,CAAC,eACPpC,OAAA;UAAM+B,SAAS,EAAC,sEAAsE;UAAAC,QAAA,EAAC;QAEvF;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAGNpC,OAAA;MACIwC,OAAO,EAAExB,YAAa;MACtByB,QAAQ,EAAE,CAACpC,aAAa,IAAIE,SAAU;MACtCwB,SAAS,EAAE,6EAA6E,CAAC1B,aAAa,IAAIE,SAAS,GACzG,gDAAgD,GAChD,qGAAqG,EACxG;MAAAyB,QAAA,EAENzB,SAAS,GAAG,cAAc,GAAG;IAAiB;MAAA0B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3C,CAAC,EAGR3B,OAAO,iBACJT,OAAA;MAAK+B,SAAS,EAAE,oFAAoFtB,OAAO,CAACgB,IAAI,KAAK,SAAS,GAAG,gCAAgC,GAAG,4BAA4B,EACzL;MAAAO,QAAA,GACFvB,OAAO,CAACgB,IAAI,KAAK,SAAS,gBAAGzB,OAAA,CAACH,aAAa;QAAAoC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,gBAAGpC,OAAA,CAACF,mBAAmB;QAAAmC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EACxE3B,OAAO,CAACiB,IAAI;IAAA;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACZ,CACR;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd,CAAC;AAAChC,EAAA,CAnGIH,WAAW;AAAAyC,EAAA,GAAXzC,WAAW;AAqGjB,eAAeA,WAAW;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}