{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\chatgpt_gemini_project\\\\gemini_version\\\\advanced-file-system\\\\client\\\\src\\\\components\\\\BatchUpload.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport axios from 'axios';\nimport { FaCloudUploadAlt, FaCheckCircle, FaExclamationCircle } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BatchUpload = ({\n  userToken,\n  onUploadSuccess\n}) => {\n  _s();\n  const [selectedFiles, setSelectedFiles] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [message, setMessage] = useState(null);\n  const fileInputRef = useRef();\n  const handleUpload = async () => {\n    if (!selectedFiles || selectedFiles.length === 0) return;\n    setUploading(true);\n    setMessage(null);\n    setProgress(0);\n\n    // SPEED BOOST: Convert FileList to array and upload in parallel\n    const filesArray = Array.from(selectedFiles);\n    let completedCount = 0;\n    const uploadTasks = filesArray.map(async file => {\n      const formData = new FormData();\n      formData.append('files', file);\n      try {\n        await axios.post('http://localhost:5000/api/files', formData, {\n          headers: {\n            Authorization: `Bearer ${userToken}`\n          }\n        });\n        completedCount++;\n        // Update overall progress bar\n        setProgress(Math.round(completedCount / filesArray.length * 100));\n      } catch (err) {\n        console.error(\"Individual file upload failed\", err);\n      }\n    });\n    try {\n      await Promise.all(uploadTasks);\n      setMessage({\n        type: 'success',\n        text: 'All assets synced successfully.'\n      });\n      setSelectedFiles(null);\n      if (fileInputRef.current) fileInputRef.current.value = '';\n      if (onUploadSuccess) onUploadSuccess();\n    } catch (error) {\n      setMessage({\n        type: 'error',\n        text: 'Upload Interrupted.'\n      });\n    } finally {\n      setUploading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-slate-800 p-8 rounded-xl border border-slate-700 shadow-xl max-w-2xl mx-auto text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(FaCloudUploadAlt, {\n        className: \"text-cyan-400 text-5xl mb-4 animate-bounce\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-white\",\n        children: \"High-Speed Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative group\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        multiple: true,\n        onChange: e => setSelectedFiles(e.target.files),\n        ref: fileInputRef,\n        className: \"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-slate-900 border-2 border-dashed border-slate-600 rounded-lg p-4 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-slate-400\",\n          children: selectedFiles ? `${selectedFiles.length} files selected` : \"Drag & drop files\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"bg-cyan-600 text-white text-xs font-bold px-3 py-1 rounded\",\n          children: \"BROWSE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), uploading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between text-xs text-cyan-400 mb-1 font-mono\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"PARALLEL_SYNC_ACTIVE...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [progress, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full bg-slate-900 rounded-full h-2 overflow-hidden border border-slate-700\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-cyan-500 to-blue-500 h-full transition-all duration-300\",\n          style: {\n            width: `${progress}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpload,\n      disabled: !selectedFiles || uploading,\n      className: `w-full mt-6 py-3 rounded-lg font-bold text-white ${!selectedFiles || uploading ? 'bg-slate-700' : 'bg-cyan-600 shadow-lg shadow-cyan-500/20'}`,\n      children: uploading ? 'UPLOADING...' : 'INITIATE FAST UPLOAD'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `mt-4 p-3 rounded-lg text-sm ${message.type === 'success' ? 'bg-green-500/20 text-green-400' : 'bg-red-500/20 text-red-400'}`,\n      children: message.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n_s(BatchUpload, \"oBHTmQ8ZdA6YuYOXkEjuUtTIpzY=\");\n_c = BatchUpload;\nexport default BatchUpload;\nvar _c;\n$RefreshReg$(_c, \"BatchUpload\");","map":{"version":3,"names":["React","useState","useRef","axios","FaCloudUploadAlt","FaCheckCircle","FaExclamationCircle","jsxDEV","_jsxDEV","BatchUpload","userToken","onUploadSuccess","_s","selectedFiles","setSelectedFiles","uploading","setUploading","progress","setProgress","message","setMessage","fileInputRef","handleUpload","length","filesArray","Array","from","completedCount","uploadTasks","map","file","formData","FormData","append","post","headers","Authorization","Math","round","err","console","error","Promise","all","type","text","current","value","className","children","fileName","_jsxFileName","lineNumber","columnNumber","multiple","onChange","e","target","files","ref","style","width","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/USER/Documents/chatgpt_gemini_project/gemini_version/advanced-file-system/client/src/components/BatchUpload.jsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { FaCloudUploadAlt, FaCheckCircle, FaExclamationCircle } from 'react-icons/fa';\r\n\r\nconst BatchUpload = ({ userToken, onUploadSuccess }) => {\r\n    const [selectedFiles, setSelectedFiles] = useState(null);\r\n    const [uploading, setUploading] = useState(false);\r\n    const [progress, setProgress] = useState(0);\r\n    const [message, setMessage] = useState(null);\r\n    const fileInputRef = useRef();\r\n\r\n    const handleUpload = async () => {\r\n        if (!selectedFiles || selectedFiles.length === 0) return;\r\n\r\n        setUploading(true);\r\n        setMessage(null);\r\n        setProgress(0);\r\n\r\n        // SPEED BOOST: Convert FileList to array and upload in parallel\r\n        const filesArray = Array.from(selectedFiles);\r\n        let completedCount = 0;\r\n\r\n        const uploadTasks = filesArray.map(async (file) => {\r\n            const formData = new FormData();\r\n            formData.append('files', file);\r\n\r\n            try {\r\n                await axios.post('http://localhost:5000/api/files', formData, {\r\n                    headers: { Authorization: `Bearer ${userToken}` }\r\n                });\r\n                completedCount++;\r\n                // Update overall progress bar\r\n                setProgress(Math.round((completedCount / filesArray.length) * 100));\r\n            } catch (err) {\r\n                console.error(\"Individual file upload failed\", err);\r\n            }\r\n        });\r\n\r\n        try {\r\n            await Promise.all(uploadTasks);\r\n            setMessage({ type: 'success', text: 'All assets synced successfully.' });\r\n            setSelectedFiles(null);\r\n            if (fileInputRef.current) fileInputRef.current.value = '';\r\n            if (onUploadSuccess) onUploadSuccess();\r\n        } catch (error) {\r\n            setMessage({ type: 'error', text: 'Upload Interrupted.' });\r\n        } finally {\r\n            setUploading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-slate-800 p-8 rounded-xl border border-slate-700 shadow-xl max-w-2xl mx-auto text-center\">\r\n            <div className=\"flex flex-col items-center mb-6\">\r\n                <FaCloudUploadAlt className=\"text-cyan-400 text-5xl mb-4 animate-bounce\" />\r\n                <h2 className=\"text-2xl font-bold text-white\">High-Speed Upload</h2>\r\n            </div>\r\n\r\n            <div className=\"relative group\">\r\n                <input type=\"file\" multiple onChange={(e) => setSelectedFiles(e.target.files)} ref={fileInputRef} className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10\" />\r\n                <div className=\"bg-slate-900 border-2 border-dashed border-slate-600 rounded-lg p-4 flex items-center justify-between\">\r\n                    <span className=\"text-slate-400\">{selectedFiles ? `${selectedFiles.length} files selected` : \"Drag & drop files\"}</span>\r\n                    <span className=\"bg-cyan-600 text-white text-xs font-bold px-3 py-1 rounded\">BROWSE</span>\r\n                </div>\r\n            </div>\r\n\r\n            {uploading && (\r\n                <div className=\"mt-6\">\r\n                    <div className=\"flex justify-between text-xs text-cyan-400 mb-1 font-mono\">\r\n                        <span>PARALLEL_SYNC_ACTIVE...</span>\r\n                        <span>{progress}%</span>\r\n                    </div>\r\n                    <div className=\"w-full bg-slate-900 rounded-full h-2 overflow-hidden border border-slate-700\">\r\n                        <div className=\"bg-gradient-to-r from-cyan-500 to-blue-500 h-full transition-all duration-300\" style={{ width: `${progress}%` }} />\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <button onClick={handleUpload} disabled={!selectedFiles || uploading} className={`w-full mt-6 py-3 rounded-lg font-bold text-white ${!selectedFiles || uploading ? 'bg-slate-700' : 'bg-cyan-600 shadow-lg shadow-cyan-500/20'}`}>\r\n                {uploading ? 'UPLOADING...' : 'INITIATE FAST UPLOAD'}\r\n            </button>\r\n\r\n            {message && <div className={`mt-4 p-3 rounded-lg text-sm ${message.type === 'success' ? 'bg-green-500/20 text-green-400' : 'bg-red-500/20 text-red-400'}`}>{message.text}</div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BatchUpload;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}