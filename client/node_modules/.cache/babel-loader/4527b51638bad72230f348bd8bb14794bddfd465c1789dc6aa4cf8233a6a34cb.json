{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\chatgpt_gemini_project\\\\gemini_version\\\\advanced-file-system\\\\client\\\\src\\\\components\\\\BatchUpload.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport axios from 'axios';\nimport { FaCloudUploadAlt, FaCheckCircle, FaExclamationCircle } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BatchUpload = ({\n  userToken,\n  onUploadSuccess\n}) => {\n  _s();\n  const [selectedFiles, setSelectedFiles] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [message, setMessage] = useState(null);\n  const fileInputRef = useRef();\n  const handleUpload = async () => {\n    if (!selectedFiles) return;\n    const formData = new FormData();\n    for (let i = 0; i < selectedFiles.length; i++) {\n      formData.append('files', selectedFiles[i]);\n    }\n    try {\n      setUploading(true);\n      setMessage(null);\n      await axios.post('http://localhost:5000/api/files', formData, {\n        headers: {\n          Authorization: `Bearer ${userToken}`\n        },\n        onUploadProgress: progressEvent => {\n          const percentCompleted = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n          setProgress(percentCompleted);\n        }\n      });\n      setMessage({\n        type: 'success',\n        text: 'Upload successful!'\n      });\n      setSelectedFiles(null);\n      if (onUploadSuccess) onUploadSuccess();\n    } catch (error) {\n      setMessage({\n        type: 'error',\n        text: 'Upload Failed. Check connection.'\n      });\n    } finally {\n      setUploading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-slate-800 p-8 rounded-xl border border-slate-700 shadow-xl max-w-2xl mx-auto text-center\",\n    children: [/*#__PURE__*/_jsxDEV(FaCloudUploadAlt, {\n      className: \"text-cyan-400 text-5xl mb-4 mx-auto\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      multiple: true,\n      onChange: e => setSelectedFiles(e.target.files),\n      className: \"mb-4 text-slate-300\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), uploading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full bg-slate-900 rounded-full h-2 mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-cyan-500 h-2 rounded-full transition-all\",\n        style: {\n          width: `${progress}%`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpload,\n      disabled: !selectedFiles || uploading,\n      className: \"w-full bg-cyan-600 py-3 rounded-lg font-bold\",\n      children: uploading ? `UPLOADING ${progress}%` : 'INITIATE UPLOAD'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 text-sm\",\n      children: message.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n_s(BatchUpload, \"oBHTmQ8ZdA6YuYOXkEjuUtTIpzY=\");\n_c = BatchUpload;\nexport default BatchUpload;\nvar _c;\n$RefreshReg$(_c, \"BatchUpload\");","map":{"version":3,"names":["React","useState","useRef","axios","FaCloudUploadAlt","FaCheckCircle","FaExclamationCircle","jsxDEV","_jsxDEV","BatchUpload","userToken","onUploadSuccess","_s","selectedFiles","setSelectedFiles","uploading","setUploading","progress","setProgress","message","setMessage","fileInputRef","handleUpload","formData","FormData","i","length","append","post","headers","Authorization","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","type","text","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","multiple","onChange","e","target","files","style","width","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/USER/Documents/chatgpt_gemini_project/gemini_version/advanced-file-system/client/src/components/BatchUpload.jsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { FaCloudUploadAlt, FaCheckCircle, FaExclamationCircle } from 'react-icons/fa';\r\n\r\nconst BatchUpload = ({ userToken, onUploadSuccess }) => {\r\n    const [selectedFiles, setSelectedFiles] = useState(null);\r\n    const [uploading, setUploading] = useState(false);\r\n    const [progress, setProgress] = useState(0);\r\n    const [message, setMessage] = useState(null);\r\n    const fileInputRef = useRef();\r\n\r\n    const handleUpload = async () => {\r\n        if (!selectedFiles) return;\r\n        const formData = new FormData();\r\n        for (let i = 0; i < selectedFiles.length; i++) {\r\n            formData.append('files', selectedFiles[i]);\r\n        }\r\n\r\n        try {\r\n            setUploading(true);\r\n            setMessage(null);\r\n            await axios.post('http://localhost:5000/api/files', formData, {\r\n                headers: { Authorization: `Bearer ${userToken}` },\r\n                onUploadProgress: (progressEvent) => {\r\n                    const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n                    setProgress(percentCompleted);\r\n                }\r\n            });\r\n            setMessage({ type: 'success', text: 'Upload successful!' });\r\n            setSelectedFiles(null);\r\n            if (onUploadSuccess) onUploadSuccess();\r\n        } catch (error) {\r\n            setMessage({ type: 'error', text: 'Upload Failed. Check connection.' });\r\n        } finally {\r\n            setUploading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-slate-800 p-8 rounded-xl border border-slate-700 shadow-xl max-w-2xl mx-auto text-center\">\r\n            <FaCloudUploadAlt className=\"text-cyan-400 text-5xl mb-4 mx-auto\" />\r\n            <input type=\"file\" multiple onChange={(e) => setSelectedFiles(e.target.files)} className=\"mb-4 text-slate-300\" />\r\n\r\n            {uploading && (\r\n                <div className=\"w-full bg-slate-900 rounded-full h-2 mb-4\">\r\n                    <div className=\"bg-cyan-500 h-2 rounded-full transition-all\" style={{ width: `${progress}%` }}></div>\r\n                </div>\r\n            )}\r\n\r\n            <button onClick={handleUpload} disabled={!selectedFiles || uploading} className=\"w-full bg-cyan-600 py-3 rounded-lg font-bold\">\r\n                {uploading ? `UPLOADING ${progress}%` : 'INITIATE UPLOAD'}\r\n            </button>\r\n            {message && <div className=\"mt-4 text-sm\">{message.text}</div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BatchUpload;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}