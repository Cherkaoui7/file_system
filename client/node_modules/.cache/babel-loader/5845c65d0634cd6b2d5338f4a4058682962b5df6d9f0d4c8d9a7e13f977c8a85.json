{"ast":null,"code":"import axios from 'axios';\n\n// Add 'onProgress' as a new parameter\nexport const uploadFiles = async (formData, token, onProgress) => {\n  const config = {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n      Authorization: `Bearer ${token}`\n    },\n    // ðŸ‘‡ The Magic Axios Feature\n    onUploadProgress: data => {\n      // Calculate percentage (0 to 100)\n      const progress = Math.round(data.loaded / data.total * 100);\n\n      // Send the number back to your Component\n      if (onProgress) {\n        onProgress(progress);\n      }\n    }\n  };\n  const response = await axios.post('/api/files/upload', formData, config);\n  return response.data;\n};\nexport const getUserFiles = async token => {\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n  const response = await axios.get(`${API_URL}`, config);\n  return response.data;\n};\nexport const deleteFile = async (id, token) => {\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n  const response = await axios.delete(`${API_URL}/${id}`, config);\n  return response.data;\n};","map":{"version":3,"names":["axios","uploadFiles","formData","token","onProgress","config","headers","Authorization","onUploadProgress","data","progress","Math","round","loaded","total","response","post","getUserFiles","get","API_URL","deleteFile","id","delete"],"sources":["C:/Users/USER/Documents/chatgpt_gemini_project/gemini_version/advanced-file-system/client/src/api/files.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Add 'onProgress' as a new parameter\r\nexport const uploadFiles = async (formData, token, onProgress) => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'multipart/form-data',\r\n            Authorization: `Bearer ${token}`,\r\n        },\r\n        // ðŸ‘‡ The Magic Axios Feature\r\n        onUploadProgress: (data) => {\r\n            // Calculate percentage (0 to 100)\r\n            const progress = Math.round((data.loaded / data.total) * 100);\r\n\r\n            // Send the number back to your Component\r\n            if (onProgress) {\r\n                onProgress(progress);\r\n            }\r\n        },\r\n    };\r\n\r\n    const response = await axios.post('/api/files/upload', formData, config);\r\n    return response.data;\r\n};\r\nexport const getUserFiles = async (token) => {\r\n    const config = {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n    };\r\n    const response = await axios.get(`${API_URL}`, config);\r\n    return response.data;\r\n};\r\n\r\nexport const deleteFile = async (id, token) => {\r\n    const config = {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n    };\r\n    const response = await axios.delete(`${API_URL}/${id}`, config);\r\n    return response.data;\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,KAAK,EAAEC,UAAU,KAAK;EAC9D,MAAMC,MAAM,GAAG;IACXC,OAAO,EAAE;MACL,cAAc,EAAE,qBAAqB;MACrCC,aAAa,EAAE,UAAUJ,KAAK;IAClC,CAAC;IACD;IACAK,gBAAgB,EAAGC,IAAI,IAAK;MACxB;MACA,MAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAAEH,IAAI,CAACI,MAAM,GAAGJ,IAAI,CAACK,KAAK,GAAI,GAAG,CAAC;;MAE7D;MACA,IAAIV,UAAU,EAAE;QACZA,UAAU,CAACM,QAAQ,CAAC;MACxB;IACJ;EACJ,CAAC;EAED,MAAMK,QAAQ,GAAG,MAAMf,KAAK,CAACgB,IAAI,CAAC,mBAAmB,EAAEd,QAAQ,EAAEG,MAAM,CAAC;EACxE,OAAOU,QAAQ,CAACN,IAAI;AACxB,CAAC;AACD,OAAO,MAAMQ,YAAY,GAAG,MAAOd,KAAK,IAAK;EACzC,MAAME,MAAM,GAAG;IACXC,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUJ,KAAK;IAAG;EAChD,CAAC;EACD,MAAMY,QAAQ,GAAG,MAAMf,KAAK,CAACkB,GAAG,CAAC,GAAGC,OAAO,EAAE,EAAEd,MAAM,CAAC;EACtD,OAAOU,QAAQ,CAACN,IAAI;AACxB,CAAC;AAED,OAAO,MAAMW,UAAU,GAAG,MAAAA,CAAOC,EAAE,EAAElB,KAAK,KAAK;EAC3C,MAAME,MAAM,GAAG;IACXC,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUJ,KAAK;IAAG;EAChD,CAAC;EACD,MAAMY,QAAQ,GAAG,MAAMf,KAAK,CAACsB,MAAM,CAAC,GAAGH,OAAO,IAAIE,EAAE,EAAE,EAAEhB,MAAM,CAAC;EAC/D,OAAOU,QAAQ,CAACN,IAAI;AACxB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}