{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\chatgpt_gemini_project\\\\gemini_version\\\\advanced-file-system\\\\client\\\\src\\\\components\\\\FileGallery.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport api from '../services/api';\nimport { FaFileAlt, FaDownload, FaTrash } from 'react-icons/fa';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FileGallery = () => {\n  _s();\n  const [files, setFiles] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // 1. Fetch Files on Component Mount\n  const fetchFiles = async () => {\n    try {\n      const res = await api.get('/files'); // We need to create this route next!\n      setFiles(res.data);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchFiles();\n  }, []);\n\n  // 2. Delete File Function\n  const handleDelete = async id => {\n    if (!window.confirm(\"Are you sure you want to delete this file?\")) return;\n    try {\n      await api.delete(`/files/${id}`); // We need to create this route too!\n      setFiles(files.filter(file => file._id !== id)); // Remove from UI\n      toast.success(\"File deleted\");\n    } catch (err) {\n      toast.error(\"Could not delete file\");\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading files...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: '50px',\n      maxWidth: '800px',\n      margin: '50px auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"\\uD83D\\uDCC2 Your Files (\", files.length, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fill, minmax(150px, 1fr))',\n        gap: '20px',\n        marginTop: '20px'\n      },\n      children: files.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid #ddd',\n          borderRadius: '8px',\n          padding: '10px',\n          textAlign: 'center',\n          background: 'white'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: '100px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            marginBottom: '10px',\n            background: '#f9f9f9'\n          },\n          children: file.mimetype.startsWith('image') ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `http://localhost:5000/api/files/${file._id}`,\n            alt: file.originalName,\n            style: {\n              maxHeight: '100%',\n              maxWidth: '100%',\n              objectFit: 'contain'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(FaFileAlt, {\n            size: 40,\n            color: \"#888\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '12px',\n            fontWeight: 'bold',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n            textOverflow: 'ellipsis'\n          },\n          children: file.originalName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-around',\n            marginTop: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: `http://localhost:5000/api/files/${file._id}`,\n            target: \"_blank\",\n            rel: \"noreferrer\",\n            children: /*#__PURE__*/_jsxDEV(FaDownload, {\n              color: \"#007bff\",\n              style: {\n                cursor: 'pointer'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(FaTrash, {\n            color: \"#ff4d4d\",\n            style: {\n              cursor: 'pointer'\n            },\n            onClick: () => handleDelete(file._id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this)]\n      }, file._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n_s(FileGallery, \"zMnqggxtwlDmTOERg77mrfWXT00=\");\n_c = FileGallery;\nexport default FileGallery;\nvar _c;\n$RefreshReg$(_c, \"FileGallery\");","map":{"version":3,"names":["React","useEffect","useState","api","FaFileAlt","FaDownload","FaTrash","toast","jsxDEV","_jsxDEV","FileGallery","_s","files","setFiles","loading","setLoading","fetchFiles","res","get","data","err","console","error","handleDelete","id","window","confirm","delete","filter","file","_id","success","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","maxWidth","margin","length","display","gridTemplateColumns","gap","map","border","borderRadius","padding","textAlign","background","height","alignItems","justifyContent","marginBottom","mimetype","startsWith","src","alt","originalName","maxHeight","objectFit","size","color","fontSize","fontWeight","whiteSpace","overflow","textOverflow","href","target","rel","cursor","onClick","_c","$RefreshReg$"],"sources":["C:/Users/USER/Documents/chatgpt_gemini_project/gemini_version/advanced-file-system/client/src/components/FileGallery.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport api from '../services/api';\r\nimport { FaFileAlt, FaDownload, FaTrash } from 'react-icons/fa';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst FileGallery = () => {\r\n    const [files, setFiles] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // 1. Fetch Files on Component Mount\r\n    const fetchFiles = async () => {\r\n        try {\r\n            const res = await api.get('/files'); // We need to create this route next!\r\n            setFiles(res.data);\r\n        } catch (err) {\r\n            console.error(err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchFiles();\r\n    }, []);\r\n\r\n    // 2. Delete File Function\r\n    const handleDelete = async (id) => {\r\n        if (!window.confirm(\"Are you sure you want to delete this file?\")) return;\r\n        try {\r\n            await api.delete(`/files/${id}`); // We need to create this route too!\r\n            setFiles(files.filter(file => file._id !== id)); // Remove from UI\r\n            toast.success(\"File deleted\");\r\n        } catch (err) {\r\n            toast.error(\"Could not delete file\");\r\n        }\r\n    };\r\n\r\n    if (loading) return <p>Loading files...</p>;\r\n\r\n    return (\r\n        <div style={{ marginTop: '50px', maxWidth: '800px', margin: '50px auto' }}>\r\n            <h3>ðŸ“‚ Your Files ({files.length})</h3>\r\n\r\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(150px, 1fr))', gap: '20px', marginTop: '20px' }}>\r\n                {files.map((file) => (\r\n                    <div key={file._id} style={{ border: '1px solid #ddd', borderRadius: '8px', padding: '10px', textAlign: 'center', background: 'white' }}>\r\n\r\n                        {/* Thumbnail Preview */}\r\n                        <div style={{ height: '100px', display: 'flex', alignItems: 'center', justifyContent: 'center', marginBottom: '10px', background: '#f9f9f9' }}>\r\n                            {file.mimetype.startsWith('image') ? (\r\n                                <img\r\n                                    src={`http://localhost:5000/api/files/${file._id}`}\r\n                                    alt={file.originalName}\r\n                                    style={{ maxHeight: '100%', maxWidth: '100%', objectFit: 'contain' }}\r\n                                />\r\n                            ) : (\r\n                                <FaFileAlt size={40} color=\"#888\" />\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* File Info */}\r\n                        <p style={{ fontSize: '12px', fontWeight: 'bold', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>\r\n                            {file.originalName}\r\n                        </p>\r\n\r\n                        {/* Actions */}\r\n                        <div style={{ display: 'flex', justifyContent: 'space-around', marginTop: '10px' }}>\r\n                            <a href={`http://localhost:5000/api/files/${file._id}`} target=\"_blank\" rel=\"noreferrer\">\r\n                                <FaDownload color=\"#007bff\" style={{ cursor: 'pointer' }} />\r\n                            </a>\r\n                            <FaTrash color=\"#ff4d4d\" style={{ cursor: 'pointer' }} onClick={() => handleDelete(file._id)} />\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FileGallery;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}